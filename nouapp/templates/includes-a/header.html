{% load static %}

<!-- Navbar -->

<div class="p-2">
  <div
    class="rounded-2 flex flex-row justify-between  container-xxl navbar-expand-xl navbar-detached align-items-center p-2 bg-blue-100 text-blue-950 dark:bg-sky-950 dark:text-blue-50"
    id="layout-navbar"
  >
    <div class="flex flex-row">
      <div
        class="layout-menu-toggle navbar-nav align-items-xl-center me-3 me-xl-0 d-xl-none "
      >
        <a class="nav-item nav-link px-0 me-xl-4" href="javascript:void(0)">
          <i class="bx bx-menu bx-sm text-blue-950 dark:text-blue-50"></i>
        </a>
      </div>
      <!-- Search -->
      <div class="navbar-nav align-items-center">
        <div class="nav-item d-flex align-items-center">
          <i class="bx bx-search fs-4 lh-0"></i>
          <input
            type="text"
            class="ml-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-blue-950 dark:border-blue-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
            placeholder="Search..."
            aria-label="Search..."
          />
        </div>
      </div>
      <!-- /Search -->
    </div>

    <div class="  right-0">
      <button
        class="relative text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg px-1 text-center inline-flex items-center"
        type="button"
        data-dropdown-toggle="dropdown"
      >
      {% if user.avatar %}
      <img src="{{ user.avatar.url }}" alt="Avatar"  height="50px"
      width="50px"
      class="w-px-40 h-auto rounded-circle bg-blue-100 p-1 m-1"
      alt="Logo">
    {% else %}
      <img src="{% static 'image/logo1.png' %}" alt="Default Avatar"  height="50px"
      width="50px"
      class="w-px-40 h-auto rounded-circle bg-blue-100 p-1 m-1"
      alt="Logo">
  {% endif %}
        {{user.first_name}}
        <svg
          class="w-4 h-4 ml-2 bottom-0 right-0"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M19 9l-7 7-7-7"
          ></path>
        </svg>
      </button>

      <!-- Dropdown menu -->
      <div
        class="hidden bg-blue-100 text-sky-950 dark:bg-blue-950 dark:text-white text-base z-50 list-none divide-y divide-gray-100 rounded shadow my-3 p-0"
        id="dropdown"
      >
        <div class="px-4 py-3">
          <span class="block text-sm text-center">{{user.username}}</span>
          <span class="block text-sm font-medium truncate"
            >{{user.email}}</span
          >
        </div>
        <ul class="py-1" aria-labelledby="dropdown">
          <li>
            <a href="{% url "admin_profile" %}" class="text-sm block px-4 py-2"
              ><i class="fa-solid fa-user"></i
              ><span class="ml-2">View Profile</span></a
            >
          </li>
          <li>
            <a href="#" class="text-sm block px-4 py-2"
              ><i class="fa-solid fa-gear"></i
              ><span class="ml-2">Settings</span></a
            >
          </li>

          <!--Dark Light Theme-->
          <li class="flex justify-start items-center ">
            <label class="swap swap-rotate px-4 py-2">
              <!-- this hidden checkbox controls the state -->
              <input
                type="checkbox"
                class="theme-controller hidden"
                id="theme_swap"
                value="synthwave"
                style="display: hidden"
              />

              <!-- sun icon -->
              <span
                for="theme_swap"
                class="flex justify-start items-center theme-toggler swap-off"
              >
                <svg
                  class="h-4 w-4 fill-current"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                >
                  <path
                    d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"
                  />
                </svg>
                <span class="text-sm ml-2">Light theme</span>
              </span>

              <!-- moon icon -->
              <span
                for="theme_swap"
                class="ml-0 flex justify-start items-center theme-toggler swap-on"
              >
                <svg
                  class="h-4 w-4 fill-current"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                >
                  <path
                    d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"
                  />
                </svg>
                <span class="ml-2"> Dark theme</span>
              </span>
            </label>
          </li>

          <li>
            <a href="{% url "logout" %}" class="text-sm block px-4 py-2 gap-2"
              ><i class="fa-solid fa-right-from-bracket"></i>
              <span class="ml-2">Sign out</span></a
            >
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>

<!-- / Navbar -->
